(function(){var e,t,n,r,o,a,s,i,l,u,c,d,m,p,h,f,w,g;window.GITHUB_ISSUES_USER="newtheatre",window.GITHUB_ISSUES_REPO="history-project",window.getUrlParameter=function(e){var t;return t=RegExp("[?&]"+e+"=([^&]*)").exec(window.location.search),t&&decodeURIComponent(t[1].replace(/\+/g," "))},window.debounce=function(e){var t;return t=void 0,function(){var n,r;return n=Array.prototype.slice.call(arguments),r=this,clearTimeout(t),t=setTimeout(function(){e.apply(r,n)},40)}},$(document).ready(function(){return $(".fancybox").fancybox()}),Mousetrap.bind("left",function(){return"jekyll_page_previous"in window?window.location.href=jekyll_page_previous:void 0}),Mousetrap.bind("right",function(){return"jekyll_page_next"in window?window.location.href=jekyll_page_next:void 0}),Mousetrap.bind("e d i t o r",function(){return"yes"===localStorage.debug_mode?(localStorage.debug_mode="no",$("[data-debug-toggle]").hide()):(localStorage.debug_mode="yes",$("[data-debug-toggle]").show())}),$(document).ready(function(){return"yes"===localStorage.debug_mode?$("[data-debug-toggle]").show():void 0}),$(document).ready(function(){return $("#report-this-page").click(function(e){return e.preventDefault(),$("#report").addClass("report-show")}),$("[data-report-close]").click(function(e){return e.preventDefault(),$("#report").removeClass("report-show")}),$("#improve-this-page").click(function(e){return"yes"!==localStorage.debug_mode?(e.preventDefault(),$("#improve").addClass("report-show")):void 0}),$("[data-improve-close]").click(function(e){return e.preventDefault(),$("#improve").removeClass("report-show")}),$("[data-report-this-page]").click(function(e){return e.preventDefault(),$("#improve").removeClass("report-show"),$("#report").addClass("report-show")})}),$("#report-issue-form").submit(function(e){var t,n;return e.preventDefault(),n=$(this).serializeArray(),t=$(this).attr("action"),$.ajax({url:t,type:"POST",data:n,success:function(e){return"success"===e.status?w(e.url):(alert("There was a problem with the data your provided"),m())},error:function(){return alert("Oops, something went wrong"),m()}}),c()}),c=function(){return $(".report-submit").attr("disabled",!0),$(".report-submit").addClass("disabled"),$(".report-submit").html('<i class="fa fa-circle-o-notch fa-spin"></i>')},m=function(){return $(".report-submit").attr("disabled",!1),$(".report-submit").removeClass("disabled"),$(".report-submit").html("Try Again")},w=function(e){var t;return t=_.template($("#report-success-template").html()),$("#report-modal-content").html(t({url:e}))},$("#collect-show-form").submit(function(e){var t,n,r,o,a;return e.preventDefault(),n=$(this).serializeArray(),r={},n.forEach(function(e){return r[e.name]=e.value}),o="# 'Tell us about a show' form submission\n\nField | Data\n----- | ----\nTitle | "+r.title+"\nPlaywright | "+r.playwright+"\nDate Start | "+r.date_start_day+" / "+r.date_start_month+" / "+r.date_start_year+"\nDate End | "+r.date_end_day+" / "+r.date_end_month+" / "+r.date_end_year+"\nType | "+r.type+"\nVenue | "+r.venue+"\n\n## Synopsis\n\n"+r.synopsis+"\n\n## Cast\n\n"+r.cast+"\n\n## Crew\n\n"+r.crew+"\n\n## Anything Else\n\n"+r.other+"\n\n## Submitter\n\nField | Data\n----- | ----\nName | "+r.name+"\nGraduated | "+r.graduation+"\n\n## Attempted File Generation\n\n```\n---\ntitle: "+r.title+"\nplaywright: "+r.playwright+"\nseason: ??? ("+r.type+")\nseason_sort: ??\nperiod: ??\nvenue:\n  - "+r.venue+"\ndate_start: "+r.date_start_year+"-"+r.date_start_month+"-"+r.date_start_day+"\ndate_end: "+r.date_end_year+"-"+r.date_end_month+"-"+r.date_end_day+"\n\ncast:\n  - role:\n    name:\n\ncrew:\n  - role: Director\n    name:\n  - role: Producer\n    name:\n\ncomment: Details from "+r.name+" ("+r.graduation+")\npublished: true\n---\n\n"+r.synopsis+"\n```",a={title:r.title,message:o,name:"",page_url:"/collect/show/"},t=$(this).attr("action"),$.ajax({url:t,type:"POST",data:a,success:function(e){return"success"===e.status?window.location.href="/collect/show/thanks/":(alert("There was a problem with the data you provided"),m())},error:function(){return alert("Oops, something went wrong"),m()}}),c()}),$("#collect-person-form").submit(function(e){var t,n,r,o,a;return e.preventDefault(),n=$(this).serializeArray(),r={},n.forEach(function(e){return r[e.name]=e.value}),o="# 'Submit an almni bio' form submission\n\nField | Data\n----- | ----\nName | "+r.name+"\nGrad Year | "+r.graduation+"\nCourse | "+r.course+"\n\n## Bio1 (Time at theatre)\n\n"+r.bio1+"\n\n## Bio2 (Post-graduation)\n\n"+r.bio2+"\n\n## Links\n\n"+r.links+"\n\n## Shows\n\n"+r.shows+"\n\n## Committees\n\n"+r.committees+"\n\n## Awards\n\n"+r.awards+"\n\n## Attempted File Generation\n\n```\n---\ntitle: "+r.name+"\ncourse:\n  - "+r.course+"\ngraduated: "+r.graduation+"\n---\n\n"+r.bio1+"\n\n"+r.bio2+"\n\n"+r.links+"\n\n"+r.awards+"\n```",a={title:r.name+" bio submission",message:o,name:"",page_url:"/collect/person/"},t=$(this).attr("action"),$.ajax({url:t,type:"POST",data:a,success:function(e){return"success"===e.status?window.location.href="/collect/person/thanks/":(alert("There was a problem with the data you provided"),m())},error:function(){return alert("Oops, something went wrong"),m()}}),c()}),t="/feeds/people.json",a="#collect-template-list",l=function(){var e;return e=window.getUrlParameter("name"),console.log(e),e.length>0?$.get(t,function(t){var n,r,o,s,i,l,u,c,d;if(e in t){for(console.log(t[e].name),$(".collect-field-name").val(t[e].name),d=_.template($(a).html()),l=t[e].shows,n=0,s=l.length;s>n;n++)r=l[n],$("#collect-shows .collect-person-data").append(d({item:r}));for(u=t[e].committees,c=[],o=0,i=u.length;i>o;o++)r=u[o],c.push($("#collect-committees .collect-person-data").append(d({item:r})));return c}},"json"):void 0},c=function(){return $(".collect-submit").attr("disabled",!0),$(".collect-submit").addClass("disabled"),$(".collect-submit").html('<i class="fa fa-circle-o-notch fa-spin"></i>')},m=function(){return $(".collect-submit").attr("disabled",!1),$(".collect-submit").removeClass("disabled"),$(".collect-submit").html("Try Again")},$(document).ready(function(){return $("body").hasClass("collect-person-form")?l():void 0}),e="/feeds/search_index.json",r="/feeds/search_index_reverse.json",i="#search-result",s="#search-message-empty",n="[data-search-results]",h=function(){return u()},u=function(){var e,t;return e=new o,window.sView=e,t=window.getUrlParameter("q"),e.search(t),$("#q").val(t),$("#q").keyup(debounce(function(){var t;return $(this).val().length<2?e.renderBlank():(t=$(this).val(),e.search(t))}))},p=new Object,g=new Object,f=function(){return console.time("loadIndex"),$.get(e,function(e){return p=lunr.Index.load(e),$.get(r,function(e){return g=e,h()},"json")},"json"),console.timeEnd("loadIndex")},d=function(e){var t,n;return t=p.search(e),n=new Array,t.forEach(function(e){return n.push(g[e.ref])}),n},window.doSearch=d,o=function(){function e(){}return e.prototype.getSingleTemplate=function(){return _.template($(i).html())},e.prototype.search=function(e){return this.query=e,this.render()},e.prototype.render=function(){var e;return e=d(this.query),e.length>0?this.renderResults(e):this.renderEmpty()},e.prototype.renderResults=function(e){var t,r;return r=this.getSingleTemplate(),t=[],e.forEach(function(e){return t.push(r({item:e}))}),$(n).html(t)},e.prototype.renderEmpty=function(){var e,t;return t=_.template($(s).html()),e=t({query:this.query}),$(n).html(e)},e.prototype.renderBlank=function(){return $(n).html("<!-- BLANK -->")},e}(),$(document).ready(function(){return $("body").hasClass("search")?f():void 0})}).call(this);