(function(){var e,t,n;window.GITHUB_ISSUES_USER="newtheatre",window.GITHUB_ISSUES_REPO="history-project",$(document).ready(function(){return $(".fancybox").fancybox()}),Mousetrap.bind("left",function(){return"jekyll_page_previous"in window?window.location.href=jekyll_page_previous:void 0}),Mousetrap.bind("right",function(){return"jekyll_page_next"in window?window.location.href=jekyll_page_next:void 0}),Mousetrap.bind("e d i t o r",function(){return"yes"===localStorage.debug_mode?(localStorage.debug_mode="no",$("[data-debug-toggle]").hide()):(localStorage.debug_mode="yes",$("[data-debug-toggle]").show())}),$(document).ready(function(){return"yes"===localStorage.debug_mode?$("[data-debug-toggle]").show():void 0}),$(document).ready(function(){return $("#report-this-page").click(function(e){return e.preventDefault(),$("#report").addClass("report-show")}),$("[data-report-close]").click(function(e){return e.preventDefault(),$("#report").removeClass("report-show")}),$("#improve-this-page").click(function(e){return"yes"!==localStorage.debug_mode?(e.preventDefault(),$("#improve").addClass("report-show")):void 0}),$("[data-improve-close]").click(function(e){return e.preventDefault(),$("#improve").removeClass("report-show")}),$("[data-report-this-page]").click(function(e){return e.preventDefault(),$("#improve").removeClass("report-show"),$("#report").addClass("report-show")})}),$("#report-issue-form").submit(function(r){var a,o;return r.preventDefault(),o=$(this).serializeArray(),a=$(this).attr("action"),$.ajax({url:a,type:"POST",data:o,success:function(e){return"success"===e.status?n(e.url):(alert("There was a problem with the data your provided"),t())},error:function(){return alert("Oops, something went wrong"),t()}}),e()}),e=function(){return $(".report-submit").attr("disabled",!0),$(".report-submit").addClass("disabled"),$(".report-submit").html('<i class="fa fa-circle-o-notch fa-spin"></i>')},t=function(){return $(".report-submit").attr("disabled",!1),$(".report-submit").removeClass("disabled"),$(".report-submit").html("Try Again")},n=function(e){var t;return t=_.template($("#report-success-template").html()),$("#report-modal-content").html(t({url:e}))},$("#collect-show-form").submit(function(n){var r,a,o,s,i;return n.preventDefault(),a=$(this).serializeArray(),o={},a.forEach(function(e){return o[e.name]=e.value}),s="# 'Tell us about a show' form submission\n\nField | Data\n----- | ----\nTitle | "+o.title+"\nPlaywright | "+o.playwright+"\nDate Start | "+o.date_start_day+" / "+o.date_start_month+" / "+o.date_start_year+"\nDate End | "+o.date_end_day+" / "+o.date_end_month+" / "+o.date_end_year+"\nType | "+o.type+"\nVenue | "+o.venue+"\n\n## Synopsis\n\n"+o.synopsis+"\n\n## Cast\n\n"+o.cast+"\n\n## Crew\n\n"+o.crew+"\n\n## Anything Else\n\n"+o.other+"\n\n## Submitter\n\nField | Data\n----- | ----\nName | "+o.name+"\nGraduated | "+o.graduation+"\n\n## Attempted File Generation\n\n```\n---\ntitle: "+o.title+"\nplaywright: "+o.playwright+"\nseason: ??? ("+o.type+")\nseason_sort: ??\nperiod: ??\nvenue:\n  - "+o.venue+"\ndate_start: "+o.date_start_year+"-"+o.date_start_month+"-"+o.date_start_day+"\ndate_end: "+o.date_end_year+"-"+o.date_end_month+"-"+o.date_end_day+"\n\ncast:\n  - role:\n    name:\n\ncrew:\n  - role: Director\n    name:\n  - role: Producer\n    name:\n\ncomment: Details from "+o.name+" ("+o.graduation+")\npublished: true\n---\n\n"+o.synopsis+"\n```",i={title:o.title,message:s,name:"",page_url:"/collect/show/"},r=$(this).attr("action"),$.ajax({url:r,type:"POST",data:i,success:function(e){return"success"===e.status?window.location.href="/collect/show/thanks/":(alert("There was a problem with the data you provided"),t())},error:function(){return alert("Oops, something went wrong"),t()}}),e()}),e=function(){return $(".collect-submit").attr("disabled",!0),$(".collect-submit").addClass("disabled"),$(".collect-submit").html('<i class="fa fa-circle-o-notch fa-spin"></i>')},t=function(){return $(".collect-submit").attr("disabled",!1),$(".collect-submit").removeClass("disabled"),$(".collect-submit").html("Try Again")}}).call(this);